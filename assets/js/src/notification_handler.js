// Generated by CoffeeScript 1.6.2
(function() {
  "use strict";  window.NotificationHandler = (function() {
    function NotificationHandler(loading_state) {
      if (loading_state == null) {
        loading_state = true;
      }
      this.loading_noty_id = false;
      this.loading = {
        category_tree: loading_state,
        article_table: loading_state
      };
      this.checkDisplayLoading();
    }

    NotificationHandler.prototype.checkDisplayLoading = function() {
      var elem, is_loading, value, _ref;

      is_loading = false;
      _ref = this.loading;
      for (elem in _ref) {
        value = _ref[elem];
        if (value) {
          is_loading = true;
        }
      }
      if (is_loading && this.loading_noty_id === false) {
        this.loading_noty_id = noty({
          text: lang.loading,
          type: "alert",
          timeout: false,
          speed: 1,
          modal: true
        });
      }
      if (!is_loading && this.loading_noty_id !== false) {
        $.noty.close(this.loading_noty_id);
        return this.loading_noty_id = false;
      }
    };

    NotificationHandler.prototype.showSuccess = function(text) {
      return noty({
        text: text,
        type: "success"
      });
    };

    NotificationHandler.prototype.showError = function(text, timeout) {
      if (timeout == null) {
        timeout = 8000;
      }
      return noty({
        text: text,
        type: "error",
        timeout: timeout
      });
    };

    return NotificationHandler;

  })();

}).call(this);
